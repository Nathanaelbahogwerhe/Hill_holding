@extends('layouts.app')

@section('title', 'Détails de la tâche')

@section('content')
<div class="max-w-4xl mx-auto bg-white dark:bg-hh-gray-dark rounded-lg shadow p-6">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-semibold flex items-center space-x-2">
            <x-heroicon-o-clipboard-document-list class="w-6 h-6 text-hh-primary"/>
            <span>{{ $task->title }}</span>
        </h2>
        <div class="space-x-2">
            <a href="{{ route('tasks.edit', $task) }}" class="px-3 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">
                <x-heroicon-o-pencil-square class="w-5 h-5 inline"/> Modifier
            </a>
            <a href="{{ route('tasks.index') }}" class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">
                <x-heroicon-o-arrow-left class="w-5 h-5 inline"/> Retour
            </a>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-6">
        <div>
            <h4 class="text-sm font-medium text-gray-600 dark:text-gray-300">Projet</h4>
            <p class="text-lg">{{ $task->project->name ?? '—' }}</p>
        </div>
        <div>
            <h4 class="text-sm font-medium text-gray-600 dark:text-gray-300">Assigné à</h4>
            <p class="text-lg">{{ $task->assignedTo->name ?? 'Non assigné' }}</p>
        </div>
        <div>
            <h4 class="text-sm font-medium text-gray-600 dark:text-gray-300">Statut</h4>
            <span class="px-2 py-1 text-xs rounded font-medium 
                {{ $task->status === 'En cours' ? 'bg-yellow-100 text-yellow-700' :
                   ($task->status === 'Terminée' ? 'bg-green-100 text-green-700' : 
                   'bg-gray-100 text-gray-700') }}">
                {{ $task->status }}
            </span>
        </div>
        <div>
            <h4 class="text-sm font-medium text-gray-600 dark:text-gray-300">Échéance</h4>
            <p class="text-lg">{{ $task->due_date?->format('d/m/Y') ?? '—' }}</p>
        </div>
    </div>

    <div>
        <h4 class="text-sm font-medium text-gray-600 dark:text-gray-300 mb-2">Description</h4>
        <div class="p-4 bg-gray-50 dark:bg-hh-gray-darker rounded text-gray-800 dark:text-gray-100">
            {!! nl2br(e($task->description)) !!}
        </div>
    </div>
</div>
@endsection
