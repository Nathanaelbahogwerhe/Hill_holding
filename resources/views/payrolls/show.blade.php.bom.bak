@extends('layouts.app')
@section('title', 'DÃ©tails de la paie')

@section('content')
<div class="max-w-xl mx-auto bg-hh-card p-6 rounded shadow">
    <h2 class="text-lg font-semibold mb-4">DÃ©tails de la paie</h2>

    <div class="mb-2"><strong>EmployÃ© :</strong> {{ $payroll->employee->name }}</div>
    <div class="mb-2"><strong>Mois :</strong> {{ \Carbon\Carbon::parse($payroll->month)->translatedFormat('F Y') }}</div>
    <div class="mb-2"><strong>Salaire de base :</strong> {{ number_format($payroll->base_salary, 0, ',', ' ') }} FBU</div>
    <div class="mb-2"><strong>Primes :</strong> {{ number_format($payroll->bonuses, 0, ',', ' ') }} FBU</div>
    <div class="mb-2"><strong>IndemnitÃ©s :</strong> {{ number_format($payroll->allowances, 0, ',', ' ') }} FBU</div>
    <div class="mb-2"><strong>IndemnitÃ© km :</strong> {{ number_format($payroll->km_allowance, 0, ',', ' ') }} FBU</div>
    <div class="mb-2"><strong>Frais de communication :</strong> {{ number_format($payroll->comm_allowance, 0, ',', ' ') }} FBU</div>
    <div class="mb-2"><strong>DÃ©ductions :</strong> {{ number_format($payroll->deductions, 0, ',', ' ') }} FBU</div>
    <div class="mb-2 font-semibold text-green-600">
        <strong>Salaire net :</strong> {{ number_format(
            $payroll->base_salary + $payroll->bonuses + $payroll->allowances + $payroll->km_allowance + $payroll->comm_allowance - $payroll->deductions,
            0, ',', ' '
        ) }} FBU
    </div>
    <div class="mb-4">
        <strong>Statut :</strong>
        <span class="px-2 py-1 rounded text-white {{ $payroll->paid ? 'bg-green-600' : 'bg-yellow-600' }}">
            {{ $payroll->paid ? 'PayÃ©' : 'En attente' }}
        </span>
    </div>

    <a href="{{ route('payrolls.edit', $payroll) }}" class="btn btn-primary">Modifier</a>
    <a href="{{ route('payrolls.index') }}" class="btn btn-secondary">Retour</a>
</div>
@endsection







