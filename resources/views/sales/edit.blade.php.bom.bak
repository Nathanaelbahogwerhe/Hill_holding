@extends('layouts.app')

@section('title', 'Modifier Vente')

@section('content')
<div class="bg-white dark:bg-hh-gray-dark shadow-md rounded-lg p-6">
    <h1 class="text-2xl font-semibold mb-4">Modifier la vente</h1>

    <form action="{{ route('sales.update', $sale) }}" method="POST" class="space-y-4">
        @csrf @method('PUT')
        
        <div>
            <label class="block font-medium">Client</label>
            <select name="client_id" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
                @foreach ($clients as $client)
                    <option value="{{ $client->id }}" @selected($client->id == $sale->client_id)>
                        {{ $client->name }}
                    </option>
                @endforeach
            </select>
        </div>

        <div>
            <label class="block font-medium">Produit ou Service</label>
            <select name="item_id" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
                <optgroup label="Produits">
                    @foreach ($products as $product)
                        <option value="product-{{ $product->id }}" 
                            @selected($sale->product_id == $product->id)>
                            {{ $product->name }}
                        </option>
                    @endforeach
                </optgroup>
                <optgroup label="Services">
                    @foreach ($services as $service)
                        <option value="service-{{ $service->id }}" 
                            @selected($sale->service_id == $service->id)>
                            {{ $service->name }}
                        </option>
                    @endforeach
                </optgroup>
            </select>
        </div>

        <div>
            <label class="block font-medium">QuantitÃ©</label>
            <input type="number" name="quantity" value="{{ $sale->quantity }}" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
        </div>

        <div>
            <label class="block font-medium">Prix unitaire</label>
            <input type="number" step="0.01" name="unit_price" value="{{ $sale->unit_price }}" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
        </div>

        <div>
            <label class="block font-medium">Date</label>
            <input type="date" name="date" value="{{ $sale->date }}" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
        </div>

        <div class="flex justify-end">
            <button type="submit" class="bg-hh-green hover:bg-hh-green-dark text-white px-4 py-2 rounded">
                Mettre Ã  jour
            </button>
        </div>
    </form>
</div>
@endsection







