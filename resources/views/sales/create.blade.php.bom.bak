@extends('layouts.app')

@section('title', 'Nouvelle Vente')

@section('content')
<div class="bg-white dark:bg-hh-gray-dark shadow-md rounded-lg p-6">
    <h1 class="text-2xl font-semibold mb-4">Ajouter une vente</h1>

    <form action="{{ route('sales.store') }}" method="POST" class="space-y-4">
        @csrf
        <div>
            <label class="block font-medium">Client</label>
            <select name="client_id" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
                <option value="">-- Choisir un client --</option>
                @foreach ($clients as $client)
                    <option value="{{ $client->id }}">{{ $client->name }}</option>
                @endforeach
            </select>
        </div>

        <div>
            <label class="block font-medium">Produit ou Service</label>
            <select name="item_id" class="w-full border rounded p-2 dark:bg-hh-gray-darker">
                <option value="">-- Choisir un Ã©lÃ©ment --</option>
                <optgroup label="Produits">
                    @foreach ($products as $product)
                        <option value="product-{{ $product->id }}">{{ $product->name }}</option>
                    @endforeach
                </optgroup>
                <optgroup label="Services">
                    @foreach ($services as $service)
                        <option value="service-{{ $service->id }}">{{ $service->name }}</option>
                    @endforeach
                </optgroup>
            </select>
        </div>

        <div>
            <label class="block font-medium">QuantitÃ©</label>
            <input type="number" name="quantity" class="w-full border rounded p-2 dark:bg-hh-gray-darker" required>
        </div>

        <div>
            <label class="block font-medium">Prix unitaire</label>
            <input type="number" step="0.01" name="unit_price" class="w-full border rounded p-2 dark:bg-hh-gray-darker" required>
        </div>

        <div>
            <label class="block font-medium">Date de vente</label>
            <input type="date" name="date" class="w-full border rounded p-2 dark:bg-hh-gray-darker" required>
        </div>

        <div class="flex justify-end">
            <button type="submit" class="bg-hh-blue hover:bg-hh-blue-dark text-white px-4 py-2 rounded">
                Enregistrer
            </button>
        </div>
    </form>
</div>
@endsection







